<section id="experience" class="section">
    <div class="container">
        <h2 class="section-heading">Work Experience</h2>
        <div class="timeline">
            {% for item in site.data.experience %}
            <div class="timeline-item fade-in">
                <div class="timeline-dot"></div>
                <div class="timeline-card">
                    {% if item.logo %}
                    <div class="timeline-logo">
                        <img src="/assets/img/experience/{{ item.logo }}" alt="{{ item.company }} logo" loading="lazy">
                    </div>
                    {% endif %}
                    <div class="timeline-info">
                        <h3 class="title">{{ item.role }}</h3>
                        <p class="location">{{ item.company }}</p>
                        <p class="dates">{{ item.dates }}</p>
                        <p class="desc">{{ item.desc }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    var observer = new IntersectionObserver(function(entries) {
        entries.forEach(function(entry) {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
                observer.unobserve(entry.target);
            }
        });
    }, { threshold: 0.15 });
    document.querySelectorAll('.fade-in').forEach(function(el) {
        observer.observe(el);
    });
});
</script>
