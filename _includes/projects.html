<style>
.section-subtitle{text-align:center;color:#6B7280;font-size:1rem;margin-top:-1.5rem;margin-bottom:2.5rem}
.project-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:2rem;padding:0 1rem;max-width:1200px;margin:0 auto}
.project-card{display:block;background-color:#fff;border:1px solid #E5E7EB;border-radius:0.75rem;overflow:hidden;text-decoration:none!important;color:inherit!important;transition:box-shadow 0.3s ease,transform 0.3s ease;box-shadow:0 1px 3px rgba(0,0,0,0.08)}
.project-card:hover{color:inherit!important;box-shadow:0 8px 24px rgba(0,0,0,0.12);transform:translateY(-4px)}
.project-card:hover .project-overlay{opacity:1}
.project-card:hover .project-arrow{transform:translate(-50%,-50%) scale(1)}
.project-card:hover .project-thumbnail img{transform:scale(1.05)}
.project-thumbnail{position:relative;width:100%;height:200px;overflow:hidden;background:linear-gradient(135deg,#1E293B 0%,#2563EB 100%)}
.project-thumbnail img{width:100%;height:100%;object-fit:cover;transition:transform 0.4s ease}
.project-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(30,41,59,0.6);opacity:0;transition:opacity 0.3s ease;display:flex;align-items:center;justify-content:center}
.project-arrow{display:flex;align-items:center;justify-content:center;width:48px;height:48px;background-color:#2563EB;color:#fff;border-radius:50%;font-size:1.1rem;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(0.7);transition:transform 0.3s ease}
.project-info{padding:1.25rem 1.5rem}
.project-info .project-title{font-size:1.15rem;font-weight:600;color:#1E293B;margin:0 0 0.4rem 0}
.project-info .project-desc{font-size:0.9rem;color:#6B7280;margin:0;line-height:1.5}
@media only screen and (max-width:768px){.project-grid{grid-template-columns:1fr}}
</style>

<section id="projects" class="section">
    <div class="container">
        <h2 class="section-heading">Projects</h2>
        <p class="section-subtitle">A few of my favorite personal and professional projects.</p>
        <div class="project-grid">
            {% for item in site.data.projects %}
            <a href="/projects/{{ item.page-name }}" class="project-card">
                <div class="project-thumbnail">
                    {% if item.thumbnail %}
                    <img src="/assets/img/projects/{{ item.thumbnail }}" alt="{{ item.title }}" loading="lazy">
                    {% endif %}
                    <div class="project-overlay">
                        <span class="project-arrow"><i class="fas fa-arrow-right"></i></span>
                    </div>
                </div>
                <div class="project-info">
                    <h3 class="project-title">{{ item.title }}</h3>
                    {% if item.desc %}
                    <p class="project-desc">{{ item.desc }}</p>
                    {% endif %}
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
</section>

<script>
(function() {
    var cards = document.querySelectorAll('#projects .project-card');
    cards.forEach(function(card) {
        card.style.opacity = '0';
        card.style.transform = 'translateY(40px)';
    });

    var animated = false;
    function animateCards() {
        if (animated) return;
        var section = document.getElementById('projects');
        if (!section) return;
        var rect = section.getBoundingClientRect();
        if (rect.top < window.innerHeight && rect.bottom > 0) {
            animated = true;
            cards.forEach(function(card, i) {
                setTimeout(function() {
                    card.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, i * 150);
            });
            window.removeEventListener('scroll', animateCards);
        }
    }

    window.addEventListener('scroll', animateCards);
    window.addEventListener('load', animateCards);
})();
</script>
